---
import HeaderLink from './HeaderLink.astro';
import { SITE_TITLE } from '../consts';
---
<custom-header>
  <header class="p-4 border-b border-double border-slate-900 bg-auto bg-[url('/grid.svg')] bg-slate-700/75">
    <h2 class="text-4xl text-black my-2 ml-4">
      {SITE_TITLE}
    </h2>
    
    <nav class=" p-4 rounded-lg">
      <HeaderLink href="/">Home</HeaderLink>
      <HeaderLink href="/about">About</HeaderLink>
      <HeaderLink href="/blog">Blog</HeaderLink>
    </nav>
</custom-header>
<script>
  import { $color } from '../store';

  class CustomHeader extends HTMLElement {
    constructor() {
      super();
    }
    connectedCallback() {
      const siteTitle = this.querySelector('h2') as HTMLHeadingElement;
      $color.subscribe(c => siteTitle.style.textShadow = `#${c} 0 0 2px, #${c} 0 0 4px, #000 0 0 6px`);
    }
  }

  customElements.define('custom-header', CustomHeader)
</script>
<style>
  nav {
    width: fit-content;
  }
</style>